{%extends "base.html"%}

{%block content%}

<div class="container-fluid">

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Points</th>
            {%for day in calendar%}
            <th scope="col">{{day}}</th>
            {%endfor%}
        </tr>
    </thead>

<tbody>
    {%for u in users%}
    <tr>
        <td>{{u}}</td>
        <td>{{u.points}}</td>
        {%for day in calendar%}
        <td class="rounded border">
            {%if bids[u.id][day.id]>=0%}
            <input class="d-none"type="text" value="{{bids[u.id][day.id]}}"></input>
            {%else%}
            None
            {%endif%}
        </td>
        {%endfor%}

    </tr>
    {%endfor%}
</tbody>
</table>

</div>

<script>

function colorCells() {
        $(this).removeClass('bg-danger bg-success');
        if ($(this).children("input").val() == 0) {
            $(this).addClass("bg-danger");
        }
        else if ($(this).children("input").val() == 1) {
        }
        else if ($(this).children("input").val() == 2) {
            $(this).addClass("bg-success");
        }
    }

    $(document).ready(function () {
        $("td").each(colorCells);
        // $('.d-none').removeClass("d-none")
    });

    $('td').hover(function(){
        $(this).toggleClass('shadow mb-5 rounded')
    });

</script>

{%endblock%}